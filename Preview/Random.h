//////////////////////////////////////////////////////////////////////

#pragma once

//////////////////////////////////////////////////////////////////////

struct Random
{
	//////////////////////////////////////////////////////////////////////

	Random(uint32 seed)
	{
		a = 0xf1ea5eed;
		b = c = d = seed;
		for(uint32 i = 0; i < 20; ++i)
		{
			Next();
		}
	}

	//////////////////////////////////////////////////////////////////////

	uint32 Next()
	{
		uint32 e = a - _rotr(b, 27);
		a = b ^ _rotr(c, 17);
		b = c + d;
		c = d + e;
		d = e + a;
		return d;
	}

	//////////////////////////////////////////////////////////////////////

private:

	uint32 a, b, c, d;
};

