//////////////////////////////////////////////////////////////////////

#include "stdafx.h"

//////////////////////////////////////////////////////////////////////

Resource::Resource()
	: data(null)
	, size(0)
{
}

//////////////////////////////////////////////////////////////////////

Resource::~Resource()
{
	assert(data == null);
	assert(size == 0);
}

//////////////////////////////////////////////////////////////////////

WinResource::WinResource(DWORD resourceid)
	: Resource()
{
	error = LoadResource(resourceid, &data, &size);
}

//////////////////////////////////////////////////////////////////////

WinResource::~WinResource()
{
	if(data != null)
	{
		FreeResource(data);
		data = null;
	}
	size = 0;
	error = S_OK;
}

//////////////////////////////////////////////////////////////////////

FileResource::FileResource(tchar const *filename)
	: Resource()
{
	error = LoadFile(filename, &data, &size);
}

//////////////////////////////////////////////////////////////////////

FileResource::~FileResource()
{
	Delete(data);
	size = 0;
	error = S_OK;
}

//////////////////////////////////////////////////////////////////////

